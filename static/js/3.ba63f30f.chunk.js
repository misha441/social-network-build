(this["webpackJsonpfirst-app"]=this["webpackJsonpfirst-app"]||[]).push([[3],{300:function(e,t,s){e.exports={profileImg:"ProfileInfo_profileImg__iFrgN",descriptionBlock:"ProfileInfo_descriptionBlock__umCRg",descriptionBlock__avatarBlockWrapper:"ProfileInfo_descriptionBlock__avatarBlockWrapper__oMbyw",descriptionBlock__avatarBlock:"ProfileInfo_descriptionBlock__avatarBlock__3mcrx",changePhotoButton:"ProfileInfo_changePhotoButton__2g6H-",descriptionBlock__image:"ProfileInfo_descriptionBlock__image__3xqH8",descriptionBlock__imageWrapper:"ProfileInfo_descriptionBlock__imageWrapper__3ob0U",descriptionBlock__Info:"ProfileInfo_descriptionBlock__Info__2IW_S",error:"ProfileInfo_error__ZqK4N",descriptionBlock__mainInfo:"ProfileInfo_descriptionBlock__mainInfo__3Tcpj",descriptionBlock__fullName:"ProfileInfo_descriptionBlock__fullName__JhHVT",profileStatus:"ProfileInfo_profileStatus__fwnzj",profileData:"ProfileInfo_profileData__VqpKv",profileIcon:"ProfileInfo_profileIcon__k-pCd",profileData__userInfo:"ProfileInfo_profileData__userInfo__14lKe",profileContacts__title:"ProfileInfo_profileContacts__title__Og-_X",profileContacts:"ProfileInfo_profileContacts__3-DDB"}},301:function(e,t,s){e.exports={PostBlock:"MyPosts_PostBlock__Vk9t9",newPostBody:"MyPosts_newPostBody__3veDF"}},302:function(e,t,s){e.exports={item:"Post_item__RthBI",postContent:"Post_postContent__K4rO1",postMessage:"Post_postMessage__YORA5"}},304:function(e,t,s){"use strict";s.r(t);var i=s(4),o=s(0),c=s(60),n=s(61),a=s(63),r=s(62),l=s(1),j=s.n(l),d=s(104),p=s(300),f=s.n(p),b=s(50),u=s(103),O=function(e){var t=Object(l.useState)(!1),s=Object(d.a)(t,2),i=s[0],c=s[1],n=Object(l.useState)(e.status),a=Object(d.a)(n,2),r=a[0],j=a[1];Object(l.useEffect)((function(){j(e.status)}),[e.status]);var p=e.isOwner?Object(o.jsx)("div",{className:f.a.profileStatus,children:Object(o.jsx)("div",{onDoubleClick:function(){c(!0)},children:e.status||"-------"})}):Object(o.jsx)("div",{className:f.a.profileStatus,children:Object(o.jsx)("div",{children:e.status||"-------"})});return Object(o.jsx)("div",{children:i?Object(o.jsx)("div",{children:Object(o.jsx)("input",{onChange:function(e){j(e.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),e.updateStatus(r)},value:r})}):p})},h=s(136),_=s(137),x=s(39),m=s(15),v=s(16),k=Object(_.a)({form:"edit-profile"})((function(e){return Object(o.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(o.jsx)("div",{children:Object(o.jsxs)("button",{className:"buttonStyle",children:[Object(o.jsx)(m.a,{className:f.a.profileIcon,icon:v.j,fixedWidth:!0}),"save"]})}),Object(o.jsx)("div",{children:e.error}),Object(o.jsx)("div",{className:f.a.profileContacts__title,children:"Main Information :"}),Object(o.jsx)("hr",{}),Object(o.jsxs)("div",{className:f.a.profileData,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("span",{children:"Full name:"})}),Object(o.jsx)("div",{children:Object(o.jsx)(h.a,{component:x.a,name:"fullName",placeholder:"Full name"})})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("span",{children:"About Me:"})}),Object(o.jsx)("div",{children:Object(o.jsx)(h.a,{component:x.b,name:"aboutMe",placeholder:"About Me"})})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("span",{children:"Looking for a job : "})}),Object(o.jsx)("div",{children:Object(o.jsx)(h.a,{component:x.a,name:"lookingForAJob",type:"checkbox"})})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("span",{children:"Looking for a job description:"})}),Object(o.jsx)("div",{children:Object(o.jsx)(h.a,{component:x.b,name:"lookingForAJobDescription",placeholder:"Looking for a job description"})})]})]}),Object(o.jsxs)("div",{className:f.a.profileContacts,children:[Object(o.jsx)("div",{className:f.a.profileContacts__title,children:"Contact Information :"}),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{className:f.a.profileData,children:Object.keys(e.profile.contacts).map((function(e){return Object(o.jsx)(W,{contactTitle:e,contactValue:Object(o.jsx)(h.a,{component:x.a,name:"contacts."+e,placeholder:e})},e)}))})]})]})})),g=s(80),P=s(301),B=s.n(P),I=s(302),N=s.n(I),S=function(e){return Object(o.jsxs)("div",{className:N.a.item,children:[Object(o.jsxs)("div",{className:N.a.postContent,children:[Object(o.jsx)("img",{src:"https://illustrators.ru/uploads/illustration/image/1232594/main_%D1%8B%D1%8B%D1%8B%D1%8B.png",alt:""}),Object(o.jsx)("div",{className:N.a.postMessage,children:e.message})]}),Object(o.jsxs)("div",{children:[e.likes," likes"]})]})},D=s(54),w=j.a.memo((function(e){var t=e.posts.map((function(e){return Object(o.jsx)(S,{message:e.message,likes:e.likesCount},e.id)}));return Object(o.jsxs)("div",{className:B.a.PostBlock,children:[Object(o.jsx)("h3",{children:"My post"}),Object(o.jsx)(C,{onSubmit:function(t){e.addPost(t.newPostBody)}}),Object(o.jsx)("div",{className:B.a.posts,children:t})]})})),y=Object(D.a)(200),C=Object(_.a)({form:"profileAddNewPost"})((function(e){return Object(o.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(o.jsx)("div",{children:Object(o.jsx)(h.a,{name:"newPostBody",component:x.b,placeholder:"Enter new post",validate:[D.b,y],className:B.a.newPostBody})}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"buttonStyle",children:"Button"})})]})})),M=w,A=s(23),F=Object(A.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(g.a)(t))}}}))(M),T=function(e){return Object(o.jsxs)("div",{children:[e.isOwner&&Object(o.jsx)("div",{children:Object(o.jsxs)("button",{className:"buttonStyle",onClick:e.goToEditMode,children:[Object(o.jsx)(m.a,{className:f.a.profileIcon,icon:v.d,fixedWidth:!0}),"edit"]})}),Object(o.jsx)("div",{className:f.a.profileContacts__title,children:"Main Information :"}),Object(o.jsx)("hr",{}),Object(o.jsxs)("div",{className:f.a.profileData,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("span",{children:"AboutMe :"})}),Object(o.jsx)("div",{className:f.a.profileData__userInfo,children:e.profile.aboutMe})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("span",{children:"Looking for a job :"})}),Object(o.jsx)("div",{className:f.a.profileData__userInfo,children:e.profile.lookingForAJob?"yes":"no"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("span",{children:"Looking for a job description :"})}),Object(o.jsx)("div",{className:f.a.profileData__userInfo,children:e.profile.lookingForAJob&&e.profile.lookingForAJobDescription})]})]}),Object(o.jsxs)("div",{className:f.a.profileContacts,children:[Object(o.jsx)("div",{className:f.a.profileContacts__title,children:"Contact Information :"}),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{className:f.a.profileData,children:Object.keys(e.profile.contacts).map((function(t){return Object(o.jsx)(W,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))})]})]})},W=function(e){var t=e.contactTitle,s=e.contactValue;return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsxs)("span",{children:[t," : "]})})," ",Object(o.jsx)("div",{className:f.a.profileData__userInfo,children:s})]})},J=function(e){var t=Object(l.useState)(!1),s=Object(d.a)(t,2),i=s[0],c=s[1];if(!e.profile)return Object(o.jsx)(b.a,{});return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:f.a.descriptionBlock,children:[Object(o.jsx)("div",{className:f.a.descriptionBlock__avatarBlockWrapper,children:Object(o.jsxs)("div",{className:f.a.descriptionBlock__avatarBlock,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:f.a.descriptionBlock__imageWrapper}),Object(o.jsx)("img",{src:e.profile.photos.large||u.a,className:f.a.descriptionBlock__image,alt:""})]}),Object(o.jsx)("div",{className:f.a.descriptionBlock__fullName,children:e.profile.fullName}),Object(o.jsx)("div",{children:e.isOwner&&Object(o.jsx)("input",{type:"file",className:f.a.changePhotoButton,onChange:function(t){t.target.files[0]&&0!=t.target.files[0].length&&e.savePhoto(t.target.files[0])}})})]})}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:f.a.descriptionBlock__Info,children:[Object(o.jsxs)("div",{className:f.a.descriptionBlock__mainInfo,children:[Object(o.jsx)("div",{className:f.a.descriptionBlock__fullName,children:e.profile.fullName}),Object(o.jsx)(O,{status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner})]}),i?Object(o.jsx)(k,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){c(!1)}))}}):Object(o.jsx)(T,{goToEditMode:function(){c(!0)},profile:e.profile,isOwner:e.isOwner})]}),Object(o.jsx)(F,{})]})]})})},V=function(e){return Object(o.jsx)("div",{children:Object(o.jsx)(J,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile})})},U=s(13),L=s(10),E=function(e){Object(a.a)(s,e);var t=Object(r.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.autorisedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(o.jsx)(V,Object(i.a)(Object(i.a)({},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),s}(j.a.Component);t.default=Object(L.d)(Object(A.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorisedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:g.d,getStatus:g.c,updateStatus:g.g,savePhoto:g.e,saveProfile:g.f}),U.g)(E)}}]);
//# sourceMappingURL=3.ba63f30f.chunk.js.map